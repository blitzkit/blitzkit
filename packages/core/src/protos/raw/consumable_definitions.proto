syntax = "proto3";

package blitzkit;

import "packages/core/src/protos/raw/tank_definitions.proto";

message ConsumableDefinitions {
  map<uint32, Consumable> consumables = 1;
}

message Consumable {
  uint32 id = 1;
  string name = 2;
  uint32 cooldown = 3;
  optional uint32 duration = 4;
  bool game_mode_exclusive = 5;
  repeated ConsumableTankFilter include = 6;
  repeated ConsumableTankFilter exclude = 7;
}

message ConsumableTankFilter {
  oneof filter_type {
    ConsumableTankTierFilter tier = 1;
    ConsumableTankIdsFilter ids = 2;
    ConsumableTankCategoryFilter category = 3;
    ConsumableTankNationFilter nation = 4;
  }
}

message ConsumableTankTierFilter {
  Tier min = 1;
  Tier max = 2;
}

message ConsumableTankIdsFilter {
  repeated uint32 ids = 1;
}

message ConsumableTankCategoryFilter {
  repeated ConsumableTankCategoryFilterCategory categories = 1;
}

enum ConsumableTankCategoryFilterCategory {
  TANK_CATEGORY_UNSPECIFIED = 0;
  TANK_CATEGORY_CLIP = 1;
}

message ConsumableTankNationFilter {
  repeated string nations = 1;
}