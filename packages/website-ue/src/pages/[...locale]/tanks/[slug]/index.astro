---
import "@radix-ui/colors/violet-dark.css";
import { api } from "../../../../core/api/dynamic";
import { mixStaticPaths } from "../../../../core/astro/mixStaticPaths";
import BaseLayout from "../../../../layouts/BaseLayout.astro";
import { getStaticPaths as _getStaticPaths } from "../index.astro";
import { Page } from "./_index";

export const getStaticPaths = mixStaticPaths(_getStaticPaths, async () => {
  const { list } = await api.tankList();

  return list.map((tank) => ({
    params: { slug: tank.slug },
    props: { id: tank.id },
  }));
});

const { id, locale } = Astro.props;
---

<BaseLayout {locale} accent="violet">
  <Page {id} client:load />
</BaseLayout>
