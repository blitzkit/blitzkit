---
import locales from "@blitzkit/i18n/locales.json";
import type { GetStaticPaths } from "astro";
import ColorScale from "../../components/ColorScale.astro";
import HomeHero from "../../components/HomeHero.astro";
import { Section } from "../../components/Section";
import TanksCard from "../../components/TanksCard.astro";
import ToolCard from "../../components/ToolCard.astro";
import ToolsWrapper from "../../components/ToolsWrapper.astro";
import { tools } from "../../core/tools/tools";
import BaseLayout from "../../layouts/BaseLayout.astro";

export const getStaticPaths = (() => {
  return [
    ...locales.supported
      .filter(({ locale }) => locale !== locales.default)
      .map(({ locale }) => ({ params: { locale }, props: { locale } })),
    { params: { locale: undefined }, props: { locale: locales.default } },
  ];
}) satisfies GetStaticPaths;

const { locale } = Astro.props;
---

<BaseLayout {locale} accent="amber">
  <HomeHero {locale} />

  {Object.values(tools).map((tool) => <ColorScale color={tool.accent} />)}

  <!-- <RecentItems {locale} client:only="react">
    <RecentItems {locale} skeleton slot="fallback" />
  </RecentItems> -->

  <TanksCard {locale} />

  <Section>
    <ToolsWrapper>
      {Object.values(tools).map((tool) => <ToolCard {locale} {tool} />)}
    </ToolsWrapper>
  </Section>
</BaseLayout>
