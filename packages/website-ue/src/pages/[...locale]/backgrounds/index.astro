---
import { Grade } from "@protos/blitz_static_standard_grades_enum";
import { api } from "../../../core/api/dynamic";
import BaseLayout from "../../../layouts/BaseLayout.astro";

export { getStaticPaths } from "../index.astro";

const { backgrounds } = await api.backgrounds();
---

<BaseLayout accent="amber">
  {
    backgrounds.map((background) => {
      return (
        <>
          <h3>
            {background.stuff_ui!.display_name}{" "}
            {Grade[background.stuff_ui!.grade]}{" "}
          </h3>

          <pre>{JSON.stringify(background.profile_background, null, 2)}</pre>

          {background.stuff_ui!.description && (
            <p>{background.stuff_ui!.description}</p>
          )}
          {background.stuff_ui!.obtaining_methods && (
            <p>{background.stuff_ui!.obtaining_methods}</p>
          )}
          {background.stuff_ui!.features && (
            <p>{background.stuff_ui!.features}</p>
          )}

          <img width="128" src={`/api/backgrounds/${background.name}.webp`} />

          {background.sellable && (
            <pre>{JSON.stringify(background.sellable, null, 2)}</pre>
          )}

          <br />
        </>
      );
    })
  }
</BaseLayout>
