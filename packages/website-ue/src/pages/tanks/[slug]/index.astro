---
import type { GetStaticPaths } from "astro";
import { api } from "../../../core/api/dynamic";

export const getStaticPaths = (async () => {
  const { tanks } = await api.tanks();

  return tanks.map((tank) => ({
    params: { slug: tank.slug },
    props: { id: tank.id },
  }));
}) satisfies GetStaticPaths;

const { id } = Astro.props;
---

<h1>Tank {id}</h1>

<div style="max-height: 40rem; overflow-y: scroll">
  <code>
    <pre>{JSON.stringify(    await api.tank(id) , null, 2)}</pre>
  </code>
</div>
