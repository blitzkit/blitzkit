---
import { api } from "../core/api/dynamic";
import type { Tool } from "../core/tools/tools";
import { Heading } from "./Heading";
import { Text } from "./Text";

interface Props {
  locale: string;
  tool: Tool;
}

const { tool, locale } = Astro.props;
const strings = await api.strings(locale);
const toolStrings = strings.tools[tool.id as keyof typeof strings.tools];
---

<style>
  .tool-banner {
    background-size: cover;

    .content {
      width: 100%;
      height: 100%;
      position: relative;

      display: flex;
      justify-content: center;
      gap: var(--space-4);
      padding: var(--space-5) var(--space-4);
      box-sizing: border-box;

      backdrop-filter: var(--blur-tint);

      @media (width > 40rem) {
        padding: var(--space-6) var(--space-4);
      }

      .centered {
        flex: 1;
        max-width: var(--page-width);

        display: flex;
        flex-direction: column;
      }

      .pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        mask-image: linear-gradient(
          90deg,
          transparent 25%,
          var(--black-a1),
          transparent
        );
        mask-repeat: no-repeat;
        mask-size: cover;
      }
    }
  }
</style>

<div
  class="tool-banner"
  style={{
    backgroundImage: `url(/assets/tools/${tool.id}.webp)`,
    backgroundPosition: tool.banner_background_position ?? "top",
  }}
>
  <div class="content">
    <div
      class="pattern"
      style={{ backgroundImage: `url(/assets/patterns/${tool.id}.svg)` }}
    >
    </div>

    <div class="centered">
      <Heading weight="medium" size="2">
        {toolStrings.name}
      </Heading>
      <Text>
        {toolStrings.slogan}
      </Text>
    </div>
  </div>
</div>
