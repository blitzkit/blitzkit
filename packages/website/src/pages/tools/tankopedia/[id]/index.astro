---
import { fetchTankDefinitions } from '@blitzkit/core';
import type { GetStaticPaths } from 'astro';
import ToolLayout from '../../../../layouts/ToolLayout.astro';
import { Page } from './index';

export const getStaticPaths = (async () => {
  const tankDefinitions = await fetchTankDefinitions();

  return Object.values(tankDefinitions).map((tank) => ({
    params: { id: tank.id },
  }));
}) satisfies GetStaticPaths;

const { id } = Astro.params;
---

<ToolLayout>
  <Page id={id} client:load />
</ToolLayout>
