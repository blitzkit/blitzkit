---
import { imgur } from '@blitzkit/core';
import { Code, Flex, Heading, Text } from '@radix-ui/themes';
import { undefined } from 'astro:schema';
import { resolveBranchName } from '../core/blitzkit/branches';

const branchName = resolveBranchName();
const isBranchNamed = branchName !== undefined;
---

<style>
  .container {
    background: var(--backgroundImage);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
  }
</style>

<Flex
  className="container"
  style={{ backgroundImage: `url(${imgur('rUPie9G', { format: 'jpeg' })})` }}
  align="center"
  justify="center"
  position="relative"
  px="4"
  py="9"
>
  <div
    style={{
      position: 'absolute',
      top: 0,
      left: 0,
      width: '100%',
      height: '100%',
      background:
        'linear-gradient(var(--color-panel-translucent), var(--color-background))',
    }}
  >
  </div>

  <Flex
    direction="column"
    gap="6"
    align="center"
    justify="center"
    position="relative"
    width="100%"
  >
    <Flex direction="column" align="center">
      <Heading size="9" weight="bold" align="center">
        <Flex
          align="center"
          gap={{ initial: '1', xs: '4' }}
          direction={{ initial: 'column', xs: 'row' }}
        >
          BlitzKit
          {
            isBranchNamed && (
              <Code size="8" color="gray" highContrast variant="outline">
                {branchName}
              </Code>
            )
          }
        </Flex>
      </Heading>

      {
        !isBranchNamed && (
          <Text color="gray" align="center" size="4">
            By TrèsAbhi ❤️
          </Text>
        )
      }
    </Flex>
  </Flex>
</Flex>
